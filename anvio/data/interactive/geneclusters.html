<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />
        <meta name="google" value="notranslate">
        <link rel="stylesheet" type="text/css" href="css/loading.css" />
        <link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.css" />
        <link rel="stylesheet" href="./node_modules/bootstrap-icons/font/bootstrap-icons.min.css" />
        <link rel="stylesheet" type="text/css" href="css/geneclusters.css" />
        <link rel="stylesheet" href="./node_modules/toastr/build/toastr.min.css" type="text/css" />
        <link href='https://fonts.googleapis.com/css?family=Lato:300,700' rel='stylesheet' type='text/css' />
        <!--[if lte IE 8]><style>.main{display:none;} .support-note .note-ie{display:block;}</style><![endif]-->	
         <script type="text/javascript" src="js/utils.js"></script>
        <script type="text/javascript" src="./node_modules/jquery/dist/jquery.min.js"></script>
        <script type="text/javascript" src="./node_modules/d3/d3.min.js"></script>
        <script type="text/javascript" src="./node_modules/bootstrap/dist/js/bootstrap.bundle.js"></script>
        <script type="text/javascript" src="js/color-coding.js"></script>
        <script type="text/javascript" src="js/geneclusters.js"></script>
        <script type="text/javascript" src="js/inspectionutils.js"></script>
        <script type="text/javascript" src="./node_modules/toastr/build/toastr.min.js"></script>
        <script type="text/javascript" src="js/constants.js"></script>
    </head>
    <body onload="loadAll();">
        <div class="loading-screen">
            <div class="spinner-container">
                <div class="loader"></div>
                <br />Loading...
            </div>
        </div>
        <div>
            <div class="container">
                <header>
                    <h1 id="header"></h1>
                </header>
            </div>

            <section class="main">
                <div id="display-controls">
                    <span class="display-text">Wrap:</span>
                    <input type="text"  class="btn btn-outline-secondary btn-sm" id="wrap_length" value="1042" size="4" onchange="createDisplay(); "/>
                    <input type="button" class="btn btn-outline-secondary btn-sm" value="-" onclick="increaseVal('wrap_length', -5); createDisplay();" />
                    <input type="button" class="btn btn-outline-secondary btn-sm" value="+" onclick="increaseVal('wrap_length', 5); createDisplay();" />
                    <span style="display: inline-block; width: 20px;">&nbsp;</span>
                    <span class="display-text">Font Size:</span>  
                    <input type="text" class="btn btn-outline-secondary btn-sm" id="font_size" value="12" size="2" onchange="createDisplay(); "/>
                    <input type="button" class="btn btn-outline-secondary btn-sm" value="-" onclick="increaseVal('font_size', -1); createDisplay();" />
                    <input type="button" class="btn btn-outline-secondary btn-sm" value="+" onclick="increaseVal('font_size', 1); createDisplay();" />
                    <input type="button" class="btn btn-outline-secondary btn-sm" value="Color Settings" onclick="$('#display-conservation-controls').toggle(); " />
                    <input type="button" class="btn btn-outline-secondary btn-sm" value="Filter" onclick="$('#display-search-controls').toggle();" />
                </div>

                <div class="d-flex justify-content-center">
                    <div class="col-6" id="display-conservation-controls" style="display: none"></div>
                </div>
                <div class="d-flex justify-content-center align-items-center">
                    <div class="col-4" id="display-search-controls" style="display: none">
                        <div class="d-flex justify-content-center">
                            <div class="d-flex">
                                <div class="d-flex justify-content-center align-items-center mr-3">
                                    <span type="button" class="btn btn-link" data-toggle="modal" data-target="#infoModal" data-help="info">
                                        <span id="info-icon" class="bi bi-info-circle" aria-hidden="true"></span>
                                    </span>
                                </div>
                                <div class="d-flex">
                                    <div class="input-group">
                                        <span class="input-group-text" style="cursor: pointer;" onclick="searchGC();">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"></path>
                                          </svg>
                                        </span>
                                        <input type="text" id="search-gc" class="form-control d-flex" placeholder="Filter Genomes" onchange="searchGC(); "/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="display-gcc-acc" class="d-flex justify-content-center">
                    <div id="display-gcc-inner-div">
                        <table id="gc-acc-main" class="table table-responsive col-12">
                            <thead>
                                <tr>
                                    <th scope="col" id="gc-acc-table-header" style="border-left: none !important; color: red;">??</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th scope="row" id="gc-acc-table-data" style="border-left: none !important; color: red;">-&gt;</th>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div id="display-container">
                    <svg id="svg"></svg>
                </div>
            </section>
        </div>
        <script>
            function increaseVal(id, delta)
            {
                $('#' + id).val(Math.max(1,parseInt($('#' + id).val()) + delta));
            }
        </script>

        <!-- Searc GC Modal -->
        <div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="infoModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="infoModalLabel">Genome Search</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>To use the genome search, you can enter one or more genome names separated by commas. For example:</p>
                        <ul>
                            <li>Single entry: <code>GENOME_NAME1</code></li>
                            <li>Multiple entries: <code>GENOME_NAME1, GENOME_NAME2</code></li>
                        </ul>
                        <p>This allows you to search for specific genomes in the dataset.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
